<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Galileo Computing :: Python – 14.3 Präzise Dezimalzahlen &#8211; decimal</title>
<meta name="title" content="Galileo Computing :: Python - 14.3 Präzise Dezimalzahlen &#8211; decimal">
<meta name="author" content="Peter Kaiser, Johannes Ernesti">
<meta name="publisher" content="Galileo Press 2008">
<meta name="copyright" content="Galileo Press 2008">
<meta name="Description" content="Python - Das umfassende Handbuch – 14.3 Präzise Dezimalzahlen &#8211; decimal">
<meta name="audience" content="Alle">
<meta name="robots" content="INDEX,FOLLOW">
<meta http-equiv="content-language" content="de">
<link rel="stylesheet" type="text/css" href="common/galileo_open.css">
<link rel="prev" href="python_kapitel_14_002.htm">
<link rel="next" href="python_kapitel_15_001.htm"><script type="text/javascript"><!--
    function OpenWin(url,name,height,width)
    {
      var InfoWin = window.open(url,name,"directories=0,height="+height+",width=" + width + ",hotkeys=0,location=0,menubar=0,resizable=1,screenX=150,screenY=10,left=150,top=10,scrollbars=1,status=1,titlebar=0,toolbar=0");
      InfoWin.focus();
    }
    //--></script><link href="common/prettify.css" type="text/css" rel="stylesheet"><script type="text/javascript" src="common/prettify.js"></script></head>
<body vlink="#000099" link="#000099" alink="#000099" onload="prettyPrint()">
<table width="100%" border="0" cellpadding="0" cellspacing="0" bgcolor="#000066">
<tr>
<td height="74" valign="bottom" colspan="2"><a href="http://www.galileocomputing.de/katalog/openbook?GPP=oppy"><img src="common/galileocomputing_openbook.gif" width="200" height="56" border="0" alt="Galileo Computing < openbook >" title="Galileo Computing < openbook >"></a></td>
<td width="80" height="74"><a href="http://www.galileocomputing.de/?GPP=oppy"><img src="common/galileocomputing.gif" border="0" alt="Galileo Computing - Professionelle Bücher. Auch für Einsteiger." title="Galileo Computing - Professionelle Bücher. Auch für Einsteiger."></a></td>
</tr>
</table>
<div align="right"><a href="http://www.galileocomputing.de/?GPP=oppy" class="navnav">Professionelle Bücher. Auch für Einsteiger.</a></div><br><table class="tbl" border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td width="190" valign="top">
<table class="tbl1" border="0" cellpadding="3" cellspacing="0" width="190" align="left">
<tr>
<td class="tbl2"><a class="nav" href="index.htm#_top">Inhaltsverzeichnis</a></td>
</tr>
<tr>
<td><a class="navnav" href="python_kapitel_01_001.htm#mj67a594b305e4109145454ddc0d55999c">1 Einleitung</a></td>
</tr>
<tr>
<td><a class="navnav" href="python_kapitel_02_001.htm#mjddfab2e530e1ced3efb614b75430300d">2 Überblick über Python</a></td>
</tr>
<tr>
<td><a class="navnav" href="python_kapitel_03_001.htm#mj936060d19c41bd12bf740798a2280ed0">3 Die Arbeit mit Python</a></td>
</tr>
<tr>
<td><a class="navnav" href="python_kapitel_04_001.htm#mj4c3be3990be6964addc0f6d0dc22f9d8">4 Der interaktive Modus</a></td>
</tr>
<tr>
<td><a class="navnav" href="python_kapitel_05_001.htm#mjddf21128ad2999d9e2a37e5112a0af06">5 Grundlegendes zu Python-Programmen</a></td>
</tr>
<tr>
<td><a class="navnav" href="python_kapitel_06_001.htm#mj3c43dbe4a08e5559d01e50286484c126">6 Kontrollstrukturen</a></td>
</tr>
<tr>
<td><a class="navnav" href="python_kapitel_07_001.htm#mj4ebbbff6e4edb4fe615e242a01d77f27">7 Das Laufzeitmodell</a></td>
</tr>
<tr>
<td><a class="navnav" href="python_kapitel_08_001.htm#mj5434917b0e68fc12d539b3d9f605c69d">8 Basisdatentypen</a></td>
</tr>
<tr>
<td><a class="navnav" href="python_kapitel_09_001.htm#mj7db54ea5091e23f706b1786ead1a782f">9 Benutzerinteraktion und Dateizugriff</a></td>
</tr>
<tr>
<td><a class="navnav" href="python_kapitel_10_001.htm#mjf74b0a739c10c2f7132913c19e91246f">10 Funktionen</a></td>
</tr>
<tr>
<td><a class="navnav" href="python_kapitel_11_001.htm#mj3e41238df9387de38f2c931eba1bfeb9">11 Modularisierung</a></td>
</tr>
<tr>
<td><a class="navnav" href="python_kapitel_12_001.htm#mjcd1790d94142bd3f3a263231dbf0e3f7">12 Objektorientierung</a></td>
</tr>
<tr>
<td><a class="navnav" href="python_kapitel_13_001.htm#mj4ec2d9702da110e2dacd99679d3c813d">13 Weitere Spracheigenschaften</a></td>
</tr>
<tr>
<td><a class="navh" href="##mj22b60f53fd2027b93c076a524242b35b">14 Mathematik</a></td>
</tr>
<tr>
<td><a class="navnav" href="python_kapitel_15_001.htm#mjca183f321ad76918bcff867c4ffe4fab">15 Strings</a></td>
</tr>
<tr>
<td><a class="navnav" href="python_kapitel_16_001.htm#mjbc5f03a28f08a0ff6fff3f6eafb13845">16 Datum und Zeit</a></td>
</tr>
<tr>
<td><a class="navnav" href="python_kapitel_17_001.htm#mj1ca63a01c44856e9ecf8daef9834ac38">17 Schnittstelle zum Betriebssystem</a></td>
</tr>
<tr>
<td><a class="navnav" href="python_kapitel_18_001.htm#mj9e2e147ec7c1c409ab62884ed2afaa21">18 Parallele Programmierung</a></td>
</tr>
<tr>
<td><a class="navnav" href="python_kapitel_19_001.htm#mj5f8739be6f0fbee26d20565b4eeb8166">19 Datenspeicherung</a></td>
</tr>
<tr>
<td><a class="navnav" href="python_kapitel_20_001.htm#mj6a610f312e2abfe628f8f50a8629087d">20 Netzwerkkommunikation</a></td>
</tr>
<tr>
<td><a class="navnav" href="python_kapitel_21_001.htm#mjd1f17b81729d3362ce1283c29a6064f5">21 Debugging</a></td>
</tr>
<tr>
<td><a class="navnav" href="python_kapitel_22_001.htm#mj7398fb17f09867fc123360d9b3066e94">22 Distribution von Python-Projekten</a></td>
</tr>
<tr>
<td><a class="navnav" href="python_kapitel_23_001.htm#mj2213eb2f7fc258333f88f873ac4a8051">23 Optimierung</a></td>
</tr>
<tr>
<td><a class="navnav" href="python_kapitel_24_001.htm#mj0bdf563dc1f3ef7638dab0dfb6bdd753">24 Grafische Benutzeroberflächen</a></td>
</tr>
<tr>
<td><a class="navnav" href="python_kapitel_25_001.htm#mjbea967a6f2023581a39d524b6d91a141">25 Python als serverseitige Programmiersprache im WWW mit Django</a></td>
</tr>
<tr>
<td><a class="navnav" href="python_kapitel_26_001.htm#mj43e9e45f2e92366984e5b113f832514f">26 Anbindung an andere Programmiersprachen</a></td>
</tr>
<tr>
<td><a class="navnav" href="python_kapitel_27_001.htm#mj30bed08497d2de4e7e72cbdeefa9fc78">27 Insiderwissen</a></td>
</tr>
<tr>
<td><a class="navnav" href="python_kapitel_28_001.htm#mj8586665aff70d4410c8ba7725befb825">28 Zukunft von Python</a></td>
</tr>
<tr>
<td><a class="navnav" href="python_kapitel_A_001.htm#mjd7cca37a6c80d7ec0d715951f4148f05">A Anhang</a></td>
</tr>
<tr>
<td><a class="navnav" href="stichwort.htm#_top">Stichwort</a></td>
</tr>
<tr>
<td><br><a href="http://download.galileo-press.de/openbook/python/galileocomputing_python.zip" class="navnav"><strong>Download:</strong><br>- ZIP, ca. 4,8 MB</a></td>
</tr>
<tr>
<td><a href="http://www.galileocomputing.de/1626?GPP=oppy" class="navnav">Buch bestellen</a></td>
</tr>
<tr>
<td><a class="navnav" href="#kommentar">Ihre Meinung?</a><br><br></td>
</tr>
</table>
</td>
<td width="10"><img src="common/spacer10.gif" width="10" height="10" alt="Spacer"></td>
<td width="85%" valign="top" align="center"><div align="center">
<table width="98%" border="0" cellspacing="0" cellpadding="0" bgcolor="#FFFFFF">
<tr>
<td width="100%" class="start" colspan="1" height="22" align="center"><table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="25%"><a href="python_kapitel_14_002.htm" class="navnav"> &lt;&lt;   zurück</a></td>
<td width="49%"><div align="center"><a href="http://www.galileocomputing.de/?GPP=oppy" class="navnav">Galileo Computing /</a><a href="http://www.galileocomputing.de/katalog/openbook/?GPP=oppy" class="navnav"> &lt;openbook&gt; /</a><a href="index.htm" class="navnav"> Python</a></div></td>
<td align="right" width="25%"><div align="right"><a href="python_kapitel_15_001.htm" class="navnav">vor   &gt;&gt; </a></div></td>
</tr>
</table></td>
</tr>
<tr>
<td width="100%" valign="top"><table width="100%" border="0" cellpadding="10" cellspacing="0" class="box">
<tr>
<td colspan="2"><a href="http://www.galileocomputing.de/1626?GPP=oppy" class="buchtitel">Python</a><span class="autor"> von Peter Kaiser, Johannes Ernesti</span><br><span class="untertitel">Das umfassende Handbuch - Aktuell zu Python 2.5</span></td>
</tr>
<tr>
<td valign="top" width="211"><dl>
<dt><a href="http://www.galileocomputing.de/1626?GPP=oppy" class="navnav"><img src="common/9783836211109.gif" border="0" alt="Buch: Python" title="Buch: Python"></a></dt>
<dd><br><a href="http://www.galileocomputing.de/1626?GPP=oppy"><span class="autor"><strong>Python</strong><br>gebunden, mit CD<br>819 S., 39,90 Euro<br>Galileo Computing<br>ISBN 978-3-8362-1110-9</span></a></dd>
</dl></td>
<td width="80%"><table border="0">
<tr>
<td valign="baseline"><img src="common/pfeil_u.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline" colspan="3" class="kap"><strong><a href="python_kapitel_14_001.htm#mj22b60f53fd2027b93c076a524242b35b" class="navnav">14 Mathematik</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline" colspan="2"><strong><a href="python_kapitel_14_001.htm#mj2cb050cd7bbf40a09eb11432c870c670" class="navnav">14.1 Mathematische Funktionen &#8211; math, cmath</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline" colspan="2"><strong><a href="python_kapitel_14_002.htm#mj9f3c50af5de62466ef98ce91d249e0c6" class="navnav">14.2 Zufallszahlengenerator &#8211; random</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline" colspan="2"><strong><a href="#mj49765c6f376136810bb7924c627a79aa" class="navh">14.3 Präzise Dezimalzahlen &#8211; decimal</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline"><strong><a href="#mj4e888ad0fd7d2a3a6be65b421d28e34c" class="navh">14.3.1 Verwendung des Datentyps</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline"><strong><a href="#mj5795605d42f137ce647d77406a92e919" class="navh">14.3.2 Nichtnumerische Werte</a></strong></td>
</tr>
<tr>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"> </td>
<td valign="baseline" width="10"><img src="common/pfeil_rechts5.gif" width="10" height="10" border="0" alt="Pfeil"></td>
<td valign="baseline"><strong><a href="#mje08e567d1bd96359837f69ad18503f24" class="navh">14.3.3 Das Context-Objekt</a></strong></td>
</tr>
</table><br></td>
</tr>
</table>
<table width="100%" cellpadding="20" cellspacing="0" border="0" bgcolor="#eeeeee">
<tr>
<td><div class="main"><a id="mj49765c6f376136810bb7924c627a79aa" name="mj49765c6f376136810bb7924c627a79aa"></a><a name="t21"></a><a name="t2t31"></a><br><div align="center"><a href="#top"><img src="common/jupiters.gif" border="0" alt="Galileo Computing - Zum Seitenanfang"></a></div>
<h2 class="t2"><span class="cfett">14.3</span><span class="cfett"> Präzise Dezimalzahlen &#8211; decimal</span>  <a href="#t2t32"><img src="common/down.gif" width="15" height="15" border="0" alt="Zur nächsten Überschrift"></a><img src="common/15x15leer.gif" width="15" height="15" border="0" alt="Zur vorigen Überschrift"></h2>
<p>Sicherlich erinnern Sie sich noch an folgendes Beispiel, das zeigen sollte, dass der eingebaute Datentyp <span class="clisting">float</span> nicht unendlich präzise ist:</p>
<div class="listing"><pre class="prettyprint">&gt;&gt;&gt; 0.9 
0.90000000000000002</pre></div>
<p>Das liegt daran, dass nicht jede Dezimalzahl durch das interne Speichermodell von <span class="clisting">float</span> dargestellt werden kann, sondern nur mit einer gewissen Genauigkeit angenähert wird. Diese Einschränkung wird jedoch aus Gründen der Effizienz in Kauf genommen. Als wir über Gleitkommazahlen gesprochen haben, wurde Abhilfe durch ein Modul versprochen, und dieses Modul heißt <span class="clisting">decimal</span>. Es muss aber noch einmal deutlich darauf hingewiesen werden, dass diese Abhilfe auf Kosten der Performance geht.</p>
<p>Das Modul <span class="clisting">decimal</span> enthält im Wesentlichen den Datentyp <span class="clisting">Decimal</span>, der Dezimalzahlen mit einer beliebigen Präzision speichern und verarbeiten kann. In diesem Abschnitt möchten wir Sie in die Verwendung des Datentyps einführen, die sich an die Verwendung der vorhandenen numerischen Datentypen anlehnt. Um die Beispiele auszuführen, müssen Sie den Datentyp zuerst einbinden:</p>
<div class="listing"><pre class="prettyprint">&gt;&gt;&gt;<span class="cfett"> from</span> decimal<span class="cfett"> import</span> Decimal</pre></div><br><table width="100%" border="0" cellspacing="1" cellpadding="3">
<tr>
<td class="tabellenkopf"><span class="cfett">Hinweis</span>
</td>
</tr>
<tr>
<td class="tabellentext">Das hier besprochene Modul <span class="clisting">decimal</span> folgt in seiner Funktionsweise der <span class="ckursiv">General Decimal Arithmetic Specification</span> von IBM. Aus diesem Grund ist es möglich, dass Ihnen ein ähnliches Modul bereits von einer anderen Programmiersprache her bekannt ist.</p>
</td>
</tr>
<tr>
<td class="tabellentext">
Es existieren beispielsweise Bibliotheken, die das <span class="clisting">decimal</span>-Modul in gleicher oder abgewandelter Form für C, C++, Java oder Perl implementieren.</p>
</td>
</tr>
</table><br><a id="mj4e888ad0fd7d2a3a6be65b421d28e34c" name="mj4e888ad0fd7d2a3a6be65b421d28e34c"></a><a name="t31"></a><br><div align="center"><a href="#top"><img src="common/jupiters.gif" border="0" alt="Galileo Computing - Zum Seitenanfang"></a></div><a name="t2t32"></a><h3 class="t3"><span class="cfett">14.3.1</span><span class="cfett"> Verwendung des Datentyps</span>  <a href="#t2t33"><img src="common/down.gif" width="15" height="15" border="0" alt="Zur nächsten Überschrift"></a><a href="#t2t31"><img src="common/top.gif" width="15" height="15" border="0" alt="Zur vorigen Überschrift"></a></h3>
<p>Es existiert kein Literal, mit dem Sie Instanzen des Datentyps <span class="clisting">Decimal</span> direkt erzeugen könnten, wie es beispielsweise bei <span class="clisting">float</span> der Fall ist. Um eine <span class="clisting">Decimal</span>-Instanz mit einem bestimmten Wert zu erzeugen, müssen Sie den Datentyp explizit instanziieren. Der Wert kann dem Konstruktor in Form eines Strings übergeben werden.</p>
<div class="listing"><pre class="prettyprint">&gt;&gt;&gt; Decimal("0.9") 
Decimal("0.9") 
&gt;&gt;&gt; Decimal("1.33e7") 
Decimal("1.33E+7")</pre></div>
<p>Dies ist die geläufigste Art, <span class="clisting">Decimal</span> zu instanziieren. Es ist außerdem möglich, dem Konstruktor eine ganze Zahl oder ein Tupel zu übergeben:</p>
<div class="listing"><pre class="prettyprint">&gt;&gt;&gt; Decimal(123) 
Decimal("123") 
&gt;&gt;&gt; Decimal((0, (3, 1, 4, 1), -3)) 
Decimal("3.141")</pre></div>
<p>Im zweiten Fall bestimmt das erste Element des Tupels das Vorzeichen, wobei <span class="clisting">0</span> für eine positive und <span class="clisting">1</span> für eine negative Zahl steht. Das zweite Element muss ein weiteres Tupel sein, das alle Ziffern der Zahl enthält. Das dritte Element des Tupels entspricht dem Exponenten der zuvor angegebenen Zahl.</p>
<p>Beachten Sie, dass es ausdrücklich nicht möglich ist, bei der Instanziierung eine Gleitkommazahl direkt zu übergeben, da sich sonst die Ungenauigkeiten von <span class="clisting">float</span> auf den Datentyp <span class="clisting">Decimal</span> übertragen würden.</p>
<p>Sobald eine <span class="clisting">Decimal</span>-Instanz erzeugt wurde, kann diese wie eine Instanz eines bekannten numerischen Datentyps verwendet werden. Das bedeutet insbesondere, dass alle von diesen Datentypen her bekannten Operatoren auch für <span class="clisting">Decimal</span> definiert sind. Es ist zudem möglich, <span class="clisting">Decimal</span> in Operationen mit anderen numerischen Datentypen zu verwenden. Kurzum: <span class="clisting">Decimal</span> passt sich nahezu perfekt in die bestehende Welt der numerischen Datentypen ein.</p>
<div class="listing"><pre class="prettyprint">&gt;&gt;&gt; Decimal("0.9") * 5 
Decimal("4.5") 
&gt;&gt;&gt; Decimal("0.9") / 10 
Decimal("0.09") 
&gt;&gt;&gt; Decimal("0.9") % Decimal("1.0") 
Decimal("0.9")</pre></div>
<p>Eine Besonderheit des Datentyps ist es, abschließende Nullen beim Nachkommaanteil einer Dezimalzahl beizubehalten, obwohl diese eigentlich überflüssig sind. Das ist beispielsweise beim Rechnen mit Geldbeträgen von Nutzen:</p>
<div class="listing"><pre class="prettyprint">&gt;&gt;&gt; Decimal("2.50") + Decimal("4.20") 
Decimal("6.70")</pre></div>
<p>Ein <span class="clisting">Decimal</span>-Wert lässt sich in einen Wert eines beliebigen anderen numerischen Datentyps überführen. Beachten Sie, dass solche Konvertierungen im Falle von <span class="clisting">Decimal</span> in der Regel verlustbehaftet sind, der Wert also an Genauigkeit verliert.</p>
<div class="listing"><pre class="prettyprint">&gt;&gt;&gt; float(Decimal("1.337")) 
1.337 
&gt;&gt;&gt; float(Decimal("0.9")) 
0.90000000000000002 
&gt;&gt;&gt; int(Decimal("1.337")) 
1</pre></div>
<p>Diese Eigenschaft ermöglicht es, <span class="clisting">Decimal</span>-Instanzen ganz selbstverständlich als Parameter von beispielsweise Built-in Functions oder Funktionen der Bibliothek <span class="clisting">math</span> zu übergeben.</p>
<div class="listing"><pre class="prettyprint">&gt;&gt;&gt;<span class="cfett"> import</span> math 
&gt;&gt;&gt; math.sqrt(Decimal("2")) 
1.4142135623730951</pre></div>
<p>Beachten Sie dabei, dass von diesen Funktionen auch in einem solchen Fall niemals eine <span class="clisting">Decimal</span>-Instanz zurückgegeben wird. Unter Verwendung des Moduls <span class="clisting">math</span> laufen Sie also Gefahr, durch den <span class="clisting">float</span>-Rückgabewert an Genauigkeit zu verlieren.</p>
<p>Diese Beschränkung lässt sich bei vielen mathematischen Operationen durch Verwendung der entsprechenden Operatoren umgehen, da diese das Ergebnis in jedem Fall als <span class="clisting">Decimal</span>-Instanz zurückgeben. Als einzige mathematische Funktion ist, zusätzlich zu den Operatoren, für den Datentyp <span class="clisting">Decimal</span> die Methode <span class="clisting">sqrt</span> zum Ziehen der Quadratwurzel definiert:</p>
<div class="listing"><pre class="prettyprint">&gt;&gt;&gt; d = Decimal("9") 
&gt;&gt;&gt; d.sqrt() 
Decimal("3")</pre></div><br><table width="100%" border="0" cellspacing="1" cellpadding="3">
<tr>
<td class="tabellenkopf"><span class="cfett">Tipp</span>
</td>
</tr>
<tr>
<td class="tabellentext">Das Programmieren mit dem Datentyp <span class="clisting">Decimal</span> ist mit viel Schreibarbeit verbunden, da kein Literal für diesen Datentyp existiert. Viele Python-Programmierer behelfen sich damit, dem Datentyp einen kürzeren Namen zu verpassen:</p>
</td>
</tr>
<tr>
<td class="tabellentext">
<div class="clisting">&gt;&gt;&gt; <span class="cfett">from</span> decimal <span class="cfett">import</span> Decimal <span class="cfett">as</span> D 
&gt;&gt;&gt; D("1.5e-7") 
Decimal("1.5E-7")</pre></div>
</td>
</tr>
</table><br><a id="mj5795605d42f137ce647d77406a92e919" name="mj5795605d42f137ce647d77406a92e919"></a><a name="t32"></a><br><div align="center"><a href="#top"><img src="common/jupiters.gif" border="0" alt="Galileo Computing - Zum Seitenanfang"></a></div><a name="t2t33"></a><h3 class="t3"><span class="cfett">14.3.2</span><span class="cfett"> Nichtnumerische Werte</span>  <a href="#t2t34"><img src="common/down.gif" width="15" height="15" border="0" alt="Zur nächsten Überschrift"></a><a href="#t2t32"><img src="common/top.gif" width="15" height="15" border="0" alt="Zur vorigen Überschrift"></a></h3>
<p>Aus Abschnitt <a href="./python_kapitel_08_003.htm#Rxx_ref176010158">8.3.2</a> kennen Sie bereits die Werte <span class="clisting">nan</span> und <span class="clisting">inf</span> des Datentyps <span class="clisting">float</span>, die immer dann auftraten, wenn eine Berechnung nicht möglich war bzw. eine Zahl den Zahlenraum von <span class="clisting">float</span> sprengte. Selbst konnten Sie diese Werte allerdings nicht vergeben.</p>
<p>Der Datentyp <span class="clisting">Decimal</span> baut auf diesem Ansatz auf und ermöglicht es Ihnen zudem, <span class="clisting">Decimal</span>-Instanzen mit einem solchen Zustand zu initialisieren. Folgende Werte sind möglich:</p><br><table width="100%" border="0" cellspacing="1" cellpadding="3">
<caption class="tabunter"><strong>Tabelle 14.1    </strong>Nichtnumerische Werte des Datentyps <span class="clisting">Decimal</span>
</caption>
<tr>
<td class="tabellenkopf"><span class="cfett">Wert</span>
</td>
<td class="tabellenkopf"><span class="cfett">Bedeutung</span>
</td>
</tr>
<tr>
<td class="tabellentext">
<p><span class="clisting">Infinity</span>, <span class="clisting">Inf</span></p>
</td>
<td class="tabellentext">
<p>Positiv unendlich</p>
</td>
</tr>
<tr>
<td class="tabellentext">
<p><span class="clisting">-Infinity</span>, <span class="clisting">-Inf</span></p>
</td>
<td class="tabellentext">
<p>Negativ unendlich</p>
</td>
</tr>
<tr>
<td class="tabellentext">
<p><span class="clisting">NaN</span></p>
</td>
<td class="tabellentext">
<p>Ungültiger Wert (»Not a Number«)</p>
</td>
</tr>
<tr>
<td class="tabellentext">
<p><span class="clisting">sNaN</span></p>
</td>
<td class="tabellentext">
<p>Ungültiger Wert (»signaling Not a Number«)</p>
<p>Der Unterschied zu <span class="clisting">NaN</span> besteht darin, dass eine Exception geworfen wird, sobald versucht wird, mit <span class="clisting">sNaN</span> weiterzurechnen. Rechenoperationen mit <span class="clisting">NaN</span> funktionieren anstandslos, ergeben allerdings immer wieder <span class="clisting">NaN</span>.</p>
</td>
</tr>
</table><br><p>Diese nichtnumerischen Werte können wie Zahlen verwendet werden:</p>
<div class="listing"><pre class="prettyprint">&gt;&gt;&gt; Decimal("NaN") + Decimal("42.42") 
Decimal("NaN") 
&gt;&gt;&gt; Decimal("Infinity") + Decimal("Infinity") 
Decimal("Infinity") 
&gt;&gt;&gt; Decimal("sNaN") + Decimal("42.42") 
Traceback (most recent call last): 
[…] 
decimal.InvalidOperation: sNaN 
&gt;&gt;&gt; Decimal("Inf") - Decimal("Inf") 
Traceback (most recent call last): 
[…] 
decimal.InvalidOperation: -INF + INF</pre></div><a id="mje08e567d1bd96359837f69ad18503f24" name="mje08e567d1bd96359837f69ad18503f24"></a><a name="t33"></a><br><div align="center"><a href="#top"><img src="common/jupiters.gif" border="0" alt="Galileo Computing - Zum Seitenanfang"></a></div><a name="t2t34"></a><h3 class="t3"><span class="cfett">14.3.3</span><span class="cfett"> Das Context-Objekt</span>  <img src="common/15x15leer.gif" width="15" height="15" border="0" alt="top"><a href="#t2t33"><img src="common/top.gif" width="15" height="15" border="0" alt="Zur vorigen Überschrift"></a></h3>
<p>Eingangs wurde erwähnt, dass es der Datentyp <span class="clisting">Decimal</span> erlaubt, Dezimalzahlen mit beliebiger Genauigkeit zu speichern. Die Genauigkeit, das heißt die Anzahl der Nachkommastellen ist eine von mehreren globalen Einstellungen, die innerhalb eines sogenannten <span class="clisting">Context</span>-Objekts gekapselt werden.</p>
<p>Um auf den aktuellen Kontext der arithmetischen Operationen zugreifen zu können, existieren innerhalb des Moduls <span class="clisting">decimal</span> die Funktionen <span class="clisting">getcontext</span> und <span class="clisting">setcontext</span>.</p>
<p>An dieser Stelle möchten wir nur auf drei Attribute des <span class="clisting">Context</span>-Objekts eingehen, die die Berechnungen beeinflussen können:</p>
<h5 class="t5"><span class="cfett">prec</span></h5>
<p>Das Attribut <span class="clisting">prec</span> (für »precision«) ermöglicht es, die Genauigkeit der <span class="clisting">Decimal</span>-Instanzen des aktuellen Kontextes zu bestimmen. Der Wert versteht sich als Anzahl der zu berechnenden Nachkommastellen und ist eine ganze Zahl.</p>
<div class="listing"><pre class="prettyprint">&gt;&gt;&gt; c = decimal.getcontext() 
&gt;&gt;&gt; c.prec = 3 
&gt;&gt;&gt; Decimal("1.23456789") * Decimal("2.3456789") 
Decimal("2.90")</pre></div>
<h5 class="t5"><span class="cfett">Emin, Emax</span></h5>
<p>Die Attribute <span class="clisting">Emin</span> und <span class="clisting">Emax</span> ermöglichen es, die maximale bzw. minimale Größe des Exponenten festzulegen. Beide müssen eine ganze Zahl referenzieren. Wenn das Ergebnis einer Berechnung dieses Limit überschreitet, wird eine Exception geworfen.</p>
<div class="listing"><pre class="prettyprint">&gt;&gt;&gt; c = decimal.getcontext() 
&gt;&gt;&gt; c.Emax = 9 
&gt;&gt;&gt; Decimal("1e100") * Decimal("1e100") 
Traceback (most recent call last): 
[…] 
decimal.Overflow: above Emax</pre></div>
<p>Dieses Kapitel kann allenfalls als grundlegende Einführung in das Modul <span class="clisting">decimal</span> verstanden werden, denn dieses Modul bietet noch viele weitere Möglichkeiten, Berechnungen anzustellen oder Ergebnisse dieser Berechnungen genau an die eigenen Bedürfnisse anzupassen. Sollte also Ihr Interesse an diesem Modul geweckt worden sein, fühlen Sie sich dazu ermutigt, insbesondere in der Python-Dokumentation nach weiteren Verwendungswegen zu forschen.</p>
<p>Beachten Sie aber, dass üblicherweise kein Bedarf an solch präzisen Berechnungen besteht, wie sie der Datentyp <span class="clisting">Decimal</span> ermöglicht. Der Geschwindigkeitsvorteil von <span class="clisting">float</span> wiegt in der Regel schwerer als der Genauigkeitsgewinn von <span class="clisting">Decimal</span>.</p><br><hr><a name="kommentar"></a><h3>Ihr Kommentar</h3>
                       Wie hat Ihnen das &lt;openbook&gt; gefallen? Wir freuen uns immer über Ihre freundlichen und kritischen Rückmeldungen.
                       <form action="http://www.galileo-press.de/feedback/openbook" method="post" style="text-align: center; margin-top: 10px;"><input type="hidden" name="openbookurl" value="http://www.galileocomputing.de/openbook/python/python_kapitel_14_003.htm"><input type="hidden" name="buchtitel" value="Python"><input type="hidden" name="Kapitel" value="14.3 Präzise Dezimalzahlen &#8211; decimal"><table border="0">
<tr>
<td><label for="name">Name</label><br></td>
<td><input type="text" name="name" id="name" size="40"><br></td>
</tr>
<tr>
<td><label for="email">E-Mail</label><br></td>
<td><input type="text" name="email" id="email" size="40"><br></td>
</tr>
<tr>
<td valign="top"><label for="comment">Ihr Kommentar</label><br></td>
<td><textarea name="comment" id="comment" rows="10" cols="40"></textarea><br></td>
</tr>
<tr>
<td>
</td>
<td><input type="submit" value="Kommentar absenden"></td>
</tr>
</table>
</form>
</div></td>
</tr>
</table></td>
</tr>
<tr>
<td width="100%" class="start" colspan="1" height="22" align="center"><table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="25%"><a href="python_kapitel_14_002.htm" class="navnav"> &lt;&lt;   zurück</a></td>
<td width="49%"><div align="center"><a class="navnav" href="#">&lt;top&gt;</a></div></td>
<td align="right" width="25%"><div align="right"><a href="python_kapitel_15_001.htm" class="navnav">vor   &gt;&gt; </a></div></td>
</tr>
</table></td>
</tr>
</table>
</div></td>
<td width="10" valign="top">  </td>
<td width="160" valign="top">
    <table border="0" cellpadding="0" cellspacing="0" width="160">
        <tr>
            <td>
                <table border="0" cellpadding="0" cellspacing="0" width="100%">
                    <tr>
                        <td class="start" height="20" colspan="2">
                            &nbsp;<a href="http://www.galileocomputing.de/katalog/buecher/?GPP=oppy" class="autor">
                            <strong>Zum Katalog</strong></a>
                        </td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl4" width="2">
                            <img src="common/leer.gif" border="0" height="1" width="1"></td>
                        <td valign="top">
                            <table cellspacing="3">
                                <tr>
                                    <td><a href="http://www.galileocomputing.de/1626?GPP=oppy">
                                        <img src="common/1110_90px.gif" width="105" height="90" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Python" title="Zum Katalog: Python">
                                        <br /><br /><br /><br /><br /><br /><br /><strong>Python</strong><br /><img src="common/pfeil_rechts5.gif" border="0" alt="">bestellen</a>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td><img src="common/leer.gif" height="2" width="1" border="0" /></img></td>
        </tr>
        <tr>
            <td>
                <table border="0" cellpadding="0" cellspacing="0" width="100%">
                    <tr>
                        <td class="start" height="20" colspan="2"><span class="autor"><strong>&nbsp;Ihre Meinung?</strong></a></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td>
                        <td valign="top">
                            <table cellspacing="3">
                                <tr>
                                    <td>Wie hat Ihnen das &lt;openbook&gt; gefallen?<br /><a href="#kommentar"><img src="common/pfeil_rechts5.gif" border="0" alt="">Ihre Meinung</a>
                                    <br /><br /></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td><img src="common/leer.gif" height="2" width="1" border="0" /></img></td>
        </tr>
        <tr>
            <td>
                <table border="0" cellpadding="0" cellspacing="0" width="100%">
                    <tr>
                        <td class="start" height="20" colspan="2">&nbsp;<a href="http://www.galileocomputing.de/katalog/buecher/?GPP=oppy" class="autor"><strong>Buchtipps</strong></a></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
                        <a href="http://www.galileocomputing.de/1579?GPP=oppy">
                        <img src="common/9783836210904_s.gif" width="119" height="90" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Linux" title="Zum Katalog: Linux"><br /><br /><br /><br /><br /><br /><br />&nbsp;Linux</a><br /><br /></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
                        <a href="http://www.galileocomputing.de/1337?GPP=oppy">
                        <img src="common/9783898428484_s.gif" width="105" height="90" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Ubuntu GNU/Linux" title="Zum Katalog: Ubuntu GNU/Linux"><br /><br /><br /><br /><br /><br /><br>&nbsp;Ubuntu GNU/Linux</a><br /><br /></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
                        <a href="http://www.galileocomputing.de/1451?GPP=oppy">
                        <img src="common/9783836210874_s.gif" width="112" height="90" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Praxisbuch Web 2.0" title="Zum Katalog: Praxisbuch Web 2.0"><br /><br /><br /><br /><br /><br /><br />&nbsp;Praxisbuch Web 2.0</a><br /><br /></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
                        <a href="http://www.galileocomputing.de/1142?GPP=oppy">
                        <img src="common/9783898427388_s.gif" width="105" height="90" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: UML 2.0" title="Zum Katalog: UML 2.0"><br /><br /><br /><br /><br /><br /><br />&nbsp;UML 2.0</a><br /><br /></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
                        <a href="http://www.galileocomputing.de/966?GPP=oppy">
                        <img src="common/9783898426244_s.gif" width="94" height="90" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Praxisbuch Objektorientierung" title="Zum Katalog: Praxisbuch Objektorientierung"><br /><br /><br /><br /><br /><br /><br />&nbsp;Praxisbuch Objektorientierung</a><br /><br /></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
                        <a href="http://www.galileocomputing.de/1477?GPP=oppy">
                        <img src="common/1039_90px.gif" width="105" height="90" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: Einstieg in SQL" title="Zum Katalog: Einstieg in SQL"><br /><br /><br /><br /><br /><br /><br />&nbsp;Einstieg in SQL</a><br /><br /></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td><td valign="top">
                        <a href="http://www.galileocomputing.de/1234?GPP=oppy">
                        <img src="common/1015_90px.gif" width="105" height="90" border="0" align="left" hspace="4" vspace="8" alt="Zum Katalog: IT-Handbuch für Fachinformatiker" title="Zum Katalog: IT-Handbuch für Fachinformatiker"><br /><br /><br /><br /><br /><br /><br>&nbsp;IT-Handbuch für Fachinformatiker</a><br /><br /></td>
                    </tr>
                </table></td>
        </tr>
        <tr>
            <td><img src="common/leer.gif" height="2" width="1" border="0" /></img></td>
        </tr>
        <tr>
            <td>
                <table border="0" cellpadding="0" cellspacing="0" width="100%">
                    <tr>
                        <td class="start" height="20" colspan="2"><span class="autor"><strong>&nbsp;Shopping</strong></span></td>
                    </tr>
                    <tr>
                        <td valign="top" class="tbl4" width="2"><img src="common/leer.gif" border="0" height="1" width="1"></td>
                        <td valign="top">
                            <table cellspacing="3">
                                <tr>
                                    <td><b>Versandkostenfrei</b> bestellen in Deutschland und &Ouml;sterreich<br /><a href="http://www.galileocomputing.de/hilfe/Shop/?GPP=oppy"><img src="common/pfeil_rechts5.gif" border="0" alt="Info">Info</a><br /><br /></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</td>
</tr>
</table><br><br><hr width="70%" align="center"><br><div align="center">
<p class="standard"><b>Copyright © Galileo Press 2008</b><br>Für Ihren privaten Gebrauch dürfen Sie die Online-Version natürlich ausdrucken. Ansonsten unterliegt das &lt;openbook&gt; denselben Bestimmungen, wie die gebundene Ausgabe: Das Werk einschließlich aller seiner Teile ist urheberrechtlich geschützt. Alle Rechte vorbehalten einschließlich der Vervielfältigung, Übersetzung, Mikroverfilmung sowie Einspeicherung und Verarbeitung in elektronischen Systemen.</p><br><a href="http://www.galileocomputing.de/">[Galileo Computing]</a><br><br>Galileo Press, Rheinwerkallee 4, 53227 Bonn, Tel.: 0228.42150.0, Fax 0228.42150.77, <a href="mailto:info@galileo-press.de">info@galileo-press.de</a></div><br><br></body>

</html>
